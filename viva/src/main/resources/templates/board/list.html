<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<meta charset="UTF-8" />
<title>게시판 스타일</title>
<link rel="stylesheet" th:href="@{/css/common.css}">
<link rel="stylesheet" th:href="@{/css/hero.css}">
<link rel="stylesheet" th:href="@{/css/board.css}">


</head>
<body>
	<!-- Header -->
	<div th:replace="fragments/header :: headerFragment"></div>


	<!--hero  -->
	<section class="hero-banner">
		<div class="text-area">
			<h1>Board</h1>
			<p>Feel free to write</p>
		</div>
		<div class="img-area">
			<!-- 이미지 숨김 처리됨 -->
		</div>
	</section>


<!-- ─── 공지 + 게시판 통합 테이블 ─────────────────────────────── -->

<!--검색바 -->
<!-- 검색 폼 (테이블 아래) -->
 <!--
<form th:action="@{/board/list}" method="get" style="margin-top: 10px;">
  <select name="type">
    <option value="title" th:selected="${type == 'title'}">제목</option>
    <option value="content" th:selected="${type == 'content'}">내용</option>
    <option value="userId" th:selected="${type == 'userId'}">작성자</option>
  </select>

	<div class="board-footer">게시판</div>

	<div class="container">

		<div class="sort-links">
			<a
				th:href="@{/board/list(sort='views', type=${type}, keyword=${keyword})}"
				th:classappend="${sort == 'views'} ? 'active' : ''">조회수순</a> <a
				th:href="@{/board/list(sort='date', type=${type}, keyword=${keyword})}"
				th:classappend="${sort == 'date'} ? 'active' : ''">날짜순</a>
		</div>

		
			<tbody>
				<tr th:each="board : ${boardPage.content}">
					<td th:text="${board.id}">1</td>
					<td><a th:href="@{/board/view/{id}(id=${board.id})}"
						th:text="${board.title}">제목</a></td>
					<td th:text="${board.userId}">작성자</td>
					<td
						th:text="${#temporals.format(board.createdAt, 'yyyy-MM-dd HH:mm')}">날짜</td>
					<td th:text="${board.viewCount}">0</td>
				</tr>
				<tr th:if="${#lists.isEmpty(boardPage.content)}">
					<td colspan="5">게시글이 없습니다.</td>
				</tr>
			</tbody>
		</table>
-->

	<div class="board-footer">게시판</div>

	<div class="container">

		<div class="sort-links">
			<a
				th:href="@{/board/list(sort='views', type=${type}, keyword=${keyword})}"
				th:classappend="${sort == 'views'} ? 'active' : ''">조회수순</a> <a
				th:href="@{/board/list(sort='date', type=${type}, keyword=${keyword})}"
				th:classappend="${sort == 'date'} ? 'active' : ''">날짜순</a>
		</div>

		<table>
			<thead>
				<tr>
					<th>No</th>
					<th>제목</th>
					<th>작성자</th>
					<th>작성일</th>
					<th>조회수</th>
				</tr>
			 </thead>
       <tbody>
          <!-- 1) 공지 3건 -->
          <tr th:each="n : ${latestNotices}" class="notice-row">
            <td>📢 공지</td>
            <td>
              <a th:href="@{/board/notice/{id}(id=${n.noticeId})}"
                 th:text="${n.title}">공지 제목</a>
            </td>
            <td>관리자</td>
            <td th:text="${#temporals.format(n.createdAt,'yyyy-MM-dd HH:mm')}">
              2025-07-14 01:07
            </td>
            <td th:text="${n.viewCount}">0</td>
          </tr>

          <!-- 2) 일반 게시글 -->
          <tr th:each="board : ${boardPage.content}">
            <td th:text="${board.id}">14</td>
            <td>
              <a th:href="@{/board/view/{id}(id=${board.id})}"
                 th:text="${board.title}">게시글 제목</a>
            </td>
            <td th:text="${board.userId}">gugu</td>
            <td th:text="${#temporals.format(board.createdAt,'yyyy-MM-dd HH:mm')}">
              2025-07-15 19:57
            </td>
            <td th:text="${board.viewCount}">12</td>
          </tr>

          <!-- 3) 게시글이 하나도 없을 때 -->
          <tr th:if="${#lists.isEmpty(boardPage.content)}">
            <td colspan="5">게시글이 없습니다.</td>
          </tr>
      </tbody>
			
		</table>

		<div class="search-write-wrapper">
			<form class="search-form" th:action="@{/board/list}" method="get">
				<select name="type">
					<option value="title" th:selected="${type == 'title'}">제목</option>
					<option value="content" th:selected="${type == 'content'}">내용</option>
					<option value="userId" th:selected="${type == 'userId'}">작성자</option>
				</select> <input type="text" name="keyword" th:value="${keyword}"
					placeholder="검색어 입력" />
				<button type="submit" aria-label="검색">🔍</button>
			</form>
			<a class="write-btn" th:href="@{/board/write}">글쓰기</a>
		</div>

		<div class="paging">
			<span th:if="${boardPage.hasPrevious()}"> <a
				th:href="@{/board/list(page=${boardPage.number - 1}, type=${type}, keyword=${keyword}, sort=${sort})}">이전</a>
			</span> <span class="current"
				th:text="${boardPage.number + 1} + ' / ' + ${boardPage.totalPages}">1
				/ 1</span> <span th:if="${boardPage.hasNext()}"> <a
				th:href="@{/board/list(page=${boardPage.number + 1}, type=${type}, keyword=${keyword}, sort=${sort})}">다음</a>
			</span>
		</div>

	</div>
	<!-- Footer -->
	<div th:replace="fragments/footer :: footerFragment"></div>
</body>
</html>
