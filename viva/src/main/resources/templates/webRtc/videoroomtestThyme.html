<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JSFLUX</title>

  <!-- 외부 라이브러리 -->
  <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/6.4.0/adapter.min.js}"></script>
  <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js}"></script>
  <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery.blockUI/2.70/jquery.blockUI.min.js}"></script>
  <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js}"></script>
  <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.4.0/bootbox.min.js}"></script>
  <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js}"></script>
  <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js}"></script>

  <!-- 내부 스크립트 -->
  <script th:src="@{/js/webRtc/janus.js}"></script>
  <script th:src="@{/js/webRtc/videoroomtest.js}"></script>

  <!-- 스타일 -->
  <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css}" />
<!--   <link rel="stylesheet" th:href="@{/css/demo.css}" /> -->
  <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css}" />
  <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.css}" />

  <style>
    table {
      width: 100%;
      border-top: 1px solid #bdbcbc;
      border-collapse: collapse;
    }
    th, td {
      border-bottom: 1px solid #bdbcbc;
      padding: 10px;
    }
  </style>
</head>
<body>
  <!-- 네비게이션 바 -->
<!--   <nav th:replace="fragments/navbar :: navbar"></nav> -->

  <!-- 본문 -->
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="page-header">
          <h1>화상회의
            <button class="btn btn-default" id="start">Start</button>
          </h1>
        </div>

        <!-- 시작 안내 -->
        <div class="container" id="details">
          <div class="row">
            <div class="col-md-12">
              <h3>Start 버튼을 누르고 데모를 시작하세요</h3>
              <h4>채팅방 ID로 기존 채팅방을 연결하거나 새로 생성합니다.</h4>
              <h4>* ID는 영문 또는 숫자로 입력해야 합니다.</h4>
            </div>
          </div>
        </div>

        <!-- 참여 폼 -->
        <div class="container hide" id="videojoin">
          <div class="row">
            <div class="col-md-12" id="controls">
              <div id="registernow">
                <span class="label label-info" id="room"></span>
                <div class="input-group margin-bottom-md" style="width: 100% !important;">
                  <input class="form-control" type="text" placeholder="Room Name" id="roomname" />
                </div>
                <span class="label label-info" id="you"></span>
                <div class="input-group margin-bottom-md">
                  <span class="input-group-addon">대화명</span>
                  <input class="form-control" type="text" placeholder="My Name" id="username"
                         onkeypress="return checkEnter(this, event);" />
                  <span class="input-group-btn">
                    <button class="btn btn-success" id="register">대화방 참여</button>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 비디오 영역 -->
        <div class="container hide" id="videos">
          <div class="row">
            <div class="col-md-4">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title">
                    Local Video <span class="label label-primary hide" id="publisher"></span>
                    <div class="btn-group btn-group-xs pull-right hide">
                      <div class="btn-group btn-group-xs">
                        <button id="bitrateset" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                          Bandwidth <span class="caret"></span>
                        </button>
                        <ul id="bitrate" class="dropdown-menu" role="menu">
                          <li><a href="#" id="0">No limit</a></li>
                          <li><a href="#" id="128">Cap to 128kbit</a></li>
                          <li><a href="#" id="256">Cap to 256kbit</a></li>
                          <li><a href="#" id="512">Cap to 512kbit</a></li>
                          <li><a href="#" id="1024">Cap to 1mbit</a></li>
                          <li><a href="#" id="1500">Cap to 1.5mbit</a></li>
                          <li><a href="#" id="2000">Cap to 2mbit</a></li>
                        </ul>
                      </div>
                    </div>
                  </h3>
                </div>
                <div class="panel-body" id="videolocal"></div>
              </div>
            </div>

            <!-- Remote Video 1~5 -->
            <div th:each="i : ${#numbers.sequence(1, 5)}" class="col-md-4">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title">
                    Remote Video #<span th:text="${i}"></span>
                    <span class="label label-info hide" th:id="'remote' + ${i}"></span>
                  </h3>
                </div>
                <div class="panel-body relative" th:id="'videoremote' + ${i}"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <hr>

    <!-- 푸터 -->
<!--     <div th:replace="fragments/footer :: footer"></div> -->
  </div>
</body>
</html>
