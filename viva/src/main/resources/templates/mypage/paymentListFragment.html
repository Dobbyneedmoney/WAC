<!-- templates/mypage/paymentListFragment.html -->
<div th:fragment="paymentListFragment">
  <h3>결제 내역</h3>
  <table>
    <thead>
      <tr>
        <th>결제번호</th>
        <th>예약번호</th>
        <th>결제일시</th>
        <th>결제수단</th>
        <th>결제금액</th>
        <th>상태</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="payment : ${payments}">
        <td th:text="${payment.payId}">1</td>
        <td th:text="${payment.resId}">100</td>
        <td th:text="${#dates.format(payment.payCreateDt, 'yyyy-MM-dd HH:mm')}">2025-07-13 15:30</td>
        <td th:text="${payment.payType}">CARD</td>
        <td th:text="${payment.payAmount}">10000</td>
        <td>
          <span th:class="${payment.payStatus != null} ? (${payment.payStatus.toString()} == 'paid' ? 'status-paid' : 'status-cancelled') : ''"
                th:text="${payment.payStatus != null} ? payment.payStatus : '상태없음'">paid</span>
        </td>
      </tr>
      <tr th:if="${#lists.isEmpty(payments)}">
        <td colspan="6">결제 내역이 없습니다.</td>
      </tr>
    </tbody>
  </table>
</div>

<style>
  table {
    width: 100%;
    border-collapse: collapse;
  }
  th, td {
    padding: 8px 12px;
    border: 1px solid #ccc;
    text-align: center;
  }
  th {
    background-color: #f0f4f8;
  }
  .status-paid {
    color: green;
    font-weight: bold;
  }
  .status-cancelled {
    color: red;
    font-weight: bold;
  }
</style>
