<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>이력서</title>
    <link rel="stylesheet" href="/css/resume.css">
</head>
<body>

<div class="resume-container">
    <div class="resume-header">
        <div class="header-left">
            <h1 class="resume-name" th:text="${user.userName}">표정현</h1>
            <p class="resume-title" th:text="${resume.reTitle != null and resume.reTitle != '' ? resume.reTitle : resume.rePosition}">Web Backend Developer</p>
        </div>
        <div class="header-right">
            <div class="photo-placeholder">
                <span>사진</span>
            </div>
            <div class="resume-actions">
                <a th:href="@{'/resume/edit/' + ${resume.reId}}" class="edit-btn">수정</a>
            </div>
        </div>
    </div>

            <!-- 개인정보 -->
        <div class="info-section">
            <div class="info-row">
                <span class="info-label">Career</span>
                <span class="info-value" th:text="${user.userCareer}">사무직 2년</span>
            </div>
            <div class="info-row">
                <span class="info-label">Birth</span>
                <span class="info-value" th:text="${user.userBirth}">1997.06.25</span>
            </div>
            <div class="info-row">
                <span class="info-label">Address</span>
                <span class="info-value" th:text="${user.userAdd}">광진구</span>
            </div>
            <div class="info-row">
                <span class="info-label">Phone</span>
                <span class="info-value" th:text="${user.userNum}">1024632015</span>
            </div>
            <div class="info-row">
                <span class="info-label">E-mail</span>
                <span class="info-value" th:text="${user.userEmail}">wjdguspyo@gmail.com</span>
            </div>
            <div class="info-row">
                <span class="info-label">Git-Hub</span>
                <span class="info-value" th:text="${resume.reGitHub}"></span>
            </div>
            <div class="info-row">
                <span class="info-label">Blog/Notion</span>
                <span class="info-value" th:text="${resume.reBlogNotion}"></span>
            </div>
        </div>

    <!-- 핵심역량 -->
    <div class="resume-section">
        <h2 class="section-title">핵심역량</h2>
        <div class="section-content">
            <p th:text="${resume.reStrengths}">핵심역량 내용</p>
        </div>
    </div>

            <!-- 학력 -->
        <div class="resume-section">
            <h2 class="section-title">학력</h2>
            <div th:if="${resume.reEducationPeriod != null and resume.reEducationPeriod != ''}">
                <div class="section-row">
                    <span class="date-col" th:text="${resume.reEducationPeriod}">2000. 00. ~ 2000. 00.</span>
                    <span class="org-col" th:text="${resume.reEducationSchool}">학교명</span>
                    <span class="detail-col" th:text="${resume.reEducationDetail}">졸업여부, 학위, 전공</span>
                </div>
            </div>
        </div>

        <!-- 교육 -->
        <div class="resume-section">
            <h2 class="section-title">교육</h2>
            <div th:if="${resume.reTrainingPeriod != null and resume.reTrainingPeriod != ''}" th:with="periods=${resume.reTrainingPeriod.split(',')}, orgs=${resume.reTrainingInstitution != null and resume.reTrainingInstitution != '' ? resume.reTrainingInstitution.split(',') : #strings.arraySplit('', ',')}, details=${resume.reTrainingCourse != null and resume.reTrainingCourse != '' ? resume.reTrainingCourse.split(',') : #strings.arraySplit('', ',')}">
                <div class="section-row" th:each="period, stat : ${periods}">
                    <span class="date-col" th:text="${period}"></span>
                    <span class="org-col" th:text="${stat.index < #arrays.length(orgs) ? orgs[stat.index] : ''}"></span>
                    <span class="detail-col" th:text="${stat.index < #arrays.length(details) ? details[stat.index] : ''}"></span>
                </div>
            </div>
        </div>

        <!-- 주요경력 -->
        <div class="resume-section">
            <h2 class="section-title">주요경력</h2>
            <div th:if="${resume.reExperiencePeriod != null and resume.reExperiencePeriod != ''}" th:with="periods=${resume.reExperiencePeriod.split(',')}, orgs=${resume.reExperienceCompany != null and resume.reExperienceCompany != '' ? resume.reExperienceCompany.split(',') : #strings.arraySplit('', ',')}, details=${resume.reExperiencePosition != null and resume.reExperiencePosition != '' ? resume.reExperiencePosition.split(',') : #strings.arraySplit('', ',')}">
                <div class="section-row" th:each="period, stat : ${periods}">
                    <span class="date-col" th:text="${period}"></span>
                    <span class="org-col" th:text="${stat.index < #arrays.length(orgs) ? orgs[stat.index] : ''}"></span>
                    <span class="detail-col" th:text="${stat.index < #arrays.length(details) ? details[stat.index] : ''}"></span>
                </div>
            </div>
        </div>

        <!-- 자격증 -->
        <div class="resume-section">
            <h2 class="section-title">자격증</h2>
            <div th:if="${resume.reCertificationsPeriod != null and resume.reCertificationsPeriod != ''}" th:with="periods=${resume.reCertificationsPeriod.split(',')}, orgs=${resume.reCertificationsInstitution != null and resume.reCertificationsInstitution != '' ? resume.reCertificationsInstitution.split(',') : #strings.arraySplit('', ',')}, details=${resume.reCertificationsName != null and resume.reCertificationsName != '' ? resume.reCertificationsName.split(',') : #strings.arraySplit('', ',')}">
                <div class="section-row" th:each="period, stat : ${periods}">
                    <span class="date-col" th:text="${period}"></span>
                    <span class="org-col" th:text="${stat.index < #arrays.length(orgs) ? orgs[stat.index] : ''}"></span>
                    <span class="detail-col" th:text="${stat.index < #arrays.length(details) ? details[stat.index] : ''}"></span>
                </div>
            </div>
        </div>

        <!-- 어학능력 -->
        <div class="resume-section">
            <h2 class="section-title">어학능력</h2>
            <div th:if="${resume.reLanguagesPeriod != null and resume.reLanguagesPeriod != ''}" th:with="periods=${resume.reLanguagesPeriod.split(',')}, orgs=${resume.reLanguagesLanguage != null and resume.reLanguagesLanguage != '' ? resume.reLanguagesLanguage.split(',') : #strings.arraySplit('', ',')}, details=${resume.reLanguagesLevel != null and resume.reLanguagesLevel != '' ? resume.reLanguagesLevel.split(',') : #strings.arraySplit('', ',')}">
                <div class="section-row" th:each="period, stat : ${periods}">
                    <span class="date-col" th:text="${period}"></span>
                    <span class="org-col" th:text="${stat.index < #arrays.length(orgs) ? orgs[stat.index] : ''}"></span>
                    <span class="detail-col" th:text="${stat.index < #arrays.length(details) ? details[stat.index] : ''}"></span>
                </div>
            </div>
        </div>

        <!-- 병역사항 -->
        <div class="resume-section">
            <h2 class="section-title">병역사항</h2>
            <div class="military-section">
                <div class="military-status" th:if="${resume.reMilitaryStatus != null and resume.reMilitaryStatus != ''}">
                    <span class="military-badge" th:text="${resume.reMilitaryStatus}">해당없음</span>
                </div>
                <div class="military-detail" th:if="${(resume.reMilitaryPeriod != null and resume.reMilitaryPeriod != '') or (resume.reMilitaryDetail != null and resume.reMilitaryDetail != '')}">
                    <span class="date-col" th:text="${resume.reMilitaryPeriod}">복무기간</span>
                    <span class="detail-col" th:text="${resume.reMilitaryDetail}">예시) 육군 만기제대, 사회복무요원 소집해제, 의가사제대 등</span>
                </div>
            </div>
        </div>

    <!-- 프로젝트 -->
    <div class="resume-section">
        <h2 class="section-title">프로젝트</h2>
        
        <div th:if="${resume.reProjectsPeriod != null and resume.reProjectsPeriod != ''}" th:with="periods=${resume.reProjectsPeriod.split(',')}, titles=${resume.reProjectsTitle != null and resume.reProjectsTitle != '' ? resume.reProjectsTitle.split(',') : #strings.arraySplit('', ',')}, links=${resume.reProjectsLink != null and resume.reProjectsLink != '' ? resume.reProjectsLink.split(',') : #strings.arraySplit('', ',')}, contents=${resume.reProjectsContent != null and resume.reProjectsContent != '' ? resume.reProjectsContent.split(',') : #strings.arraySplit('', ',')}">
            <div class="project-item" th:each="period, stat : ${periods}">
                <div class="project-header">
                    <span class="project-date" th:text="${period}"></span>
                    <span class="project-title" th:text="${stat.index < #arrays.length(titles) ? titles[stat.index] : ''}"></span>
                </div>
                <div class="project-content">
                    <div class="project-link" th:if="${stat.index < #arrays.length(links) and links[stat.index] != null and links[stat.index] != ''}">
                        <span class="link-label">링크:</span>
                        <a th:href="${links[stat.index]}" target="_blank" th:text="${links[stat.index]}"></a>
                    </div>
                    <div class="project-description">
                        <p th:text="${stat.index < #arrays.length(contents) ? contents[stat.index] : ''}"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Skill Set -->
    <div class="resume-section">
        <h2 class="section-title">Skill Set</h2>
        <div class="skill-row">
            <span class="skill-category">Language</span>
            <span class="skill-value" th:text="${resume.reSkills}">Java, HTML/CSS/JS, SQL, JSP, Thymeleaf</span>
        </div>
        <div class="skill-row">
            <span class="skill-category">OS</span>
            <span class="skill-value">Mac OS, window</span>
        </div>
        <div class="skill-row">
            <span class="skill-category">Framework+Library</span>
            <span class="skill-value">Spring Boot, MVC, Security, JPA, Mybatis, Lombok, OAuth2 Client, Whisper API, OpenAI GPT API</span>
        </div>
        <div class="skill-row">
            <span class="skill-category">Database</span>
            <span class="skill-value">OracleDB, MySQL</span>
        </div>
        <div class="skill-row">
            <span class="skill-category">Development Tool</span>
            <span class="skill-value">STS4, Git/GitHub, Figma</span>
        </div>
        <div class="skill-row">
            <span class="skill-category">ETC</span>
            <span class="skill-value"></span>
        </div>
    </div>

</div>

</body>
</html>
